rule maxbin_contig2bin:
    input:
       "Binning/MaxBin/maxbin_res.log"
    output:
       "Binning/MaxBin/maxbin_contig2bin.txt"
    shell:
        """
        echo "Getting contig to bin mapping"
        for f in $(ls Binning/MaxBin/*.fasta); do sed -e "s/$/\t$f/" <(grep "^>" $f | sed -e 's/>//g') >> {output}; done
        echo "Contig to bin mapping done"
        """
