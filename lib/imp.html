<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="bootstrap.min.css">
  <script src="d3.min.js"></script>
  <script src="jquery-2.1.1.min.js"></script>
  <script src="jquery.cookie.min.js"></script>
  <script src="data.js"></script>
  <script src="bootstrap.min.js"></script>
  <style>
  body {
    padding-top: 70px;
  }
  .bar {
    fill: steelblue;
  }

  .axis text {
    font: 10px sans-serif;
  }

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .img-result-container {
    width: 350px;
    float: left;
  }

  .table-result {
    float: left;
    margin: 10px;
  }
  .table-result table,td {
    border: 1px solid steelblue;
    padding: 5px;
    text-align: center;
  }

  .imp-logo {
      height: 150px;
      width: 150px;
      background: url(IMP_logo.png);
      background-size: 100% 100%;
      background-repeat: no-repeat;
  }


  </style>
</head>
<body>
  <div id="block-stats" class="container-fluid">
     <div>
         <div class="col-xs-2 col-md-2"><div class='imp-logo'></div>
         <div class="metaquast-p row" style="display:none">
             <div class="col-xs-6 col-md-6">
                 <p class="text-center lead">Sub-report made with <a href="http://bioinf.spbau.ru/metaquast">MetaQUAST</a>.</p>
             </div>
         </div>
     </div>
    <div id="tabs" role="tabpanel">

          <ul id="tabnav" class="nav nav-tabs navbar-nav navbar-fixed-top navbar-inverse" role="tablist">
            <a class="navbar-brand" href="#"> IMP <small>Integrated Metaomic Pipeline </small></a>
            <li><a href="#raw" aria-controls="raw" role="tab" data-toggle="tab">Raw</a></li>
            <li><a href="#preprocess" aria-controls="preprocess" role="tab" data-toggle="tab">Preprocess</a></li>
            <li><a href="#assembly" aria-controls="assembly" role="tab" data-toggle="tab">Assembly</a></li>
            <li><a href="#mapping" aria-controls="mapping" role="tab" data-toggle="tab">Mapping</a></li>
            <li><a id="annottab" href="#annotation" aria-controls="annotation" role="tab" data-toggle="tab">Annotation</a></li>
            <li><a href="#variants" aria-controls="variants" role="tab" data-toggle="tab">Variants</a></li>
            <li><a href="#ratio" aria-controls="ratio" role="tab" data-toggle="tab">Ratio</a></li>
            <li><a href="#overview" aria-controls="overview" role="tab" data-toggle="tab">Workflow overview</a></li>
            <li><a href="#configurations" aria-controls="configurations" role="tab" data-toggle="tab">Configuration</a></li>
            <li><a href="#references" aria-controls="references" role="tab" data-toggle="tab">References</a></li>
            <p class="navbar-text navbar-right"></p>
          </ul>
    </div>
      <div id="wholecontent" class="container">
        <div class="tab-content">


            <!-- RAW STATISTICS -->
            <div role="tabpanel" class="tab-pane fade" id="raw">
              <section id="raw-section" class="row">
                <h2><small>Raw data statistics</small></h2>
                <div id="but-raw" class="btn-group" data-toggle="buttons" name="raw-data">
                    <label class="btn btn-primary active">
                        <input id="but-raw-mgr1" type="radio" value="Analysis/stats/MG/MG.R1.fq_fastqc.html" class="btn btn-default" name="raw-data" checked>MG R1
                    </label>
                  <label class="btn btn-primary">
                      <input id="but-raw-mgr2" type="radio" value="Analysis/stats/MG/MG.R2.fq_fastqc.html" class="btn btn-default" name="raw-data">MG R2
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-raw-mtr1" type="radio" value="Analysis/stats/MT/MT.R1.fq_fastqc.html" class="btn btn-default" name="raw-data">MT R1
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-raw-mtr2" type="radio" value="Analysis/stats/MT/MT.R2.fq_fastqc.html" class="btn btn-default" name="raw-data">MT R2
                  </label>
                </div>
                <div class="row">
                    <iframe id="ifr-raw-stat" src="Analysis/stats/MG/MG.R1.fq_fastqc.html" style="position: absolute; width: 100%;height: 100%; border: none"></iframe>
                </div>
              </section>
            </div>


          <!-- PREPROCESS STATISTICS -->
          <div role="tabpanel" class="tab-pane fade active" id="preprocess">
            <section id="preprocess-section" class="row">
                <h2><small>Preprocessed data statistics</small></h2>
                <div id="but-preprocess" class="btn-group" data-toggle="buttons" name="preprocess-data">
                    <label class="btn btn-primary active">
                        <input id="but-preprocess-mgr1" type="radio" value="Analysis/stats/MG/MG.R1_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data" checked>MG R1
                    </label>
                  <label class="btn btn-primary">
                      <input id="but-preprocess-mgr2" type="radio" value="Analysis/stats/MG/MG.R2_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data">MG R2
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-preprocess-mgse" type="radio" value="Analysis/stats/MG/MG.SE_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data">MG SE
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-preprocess-mtr1" type="radio" value="Analysis/stats/MT/MT.R1_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data">MT R1
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-preprocess-mtr2" type="radio" value="Analysis/stats/MT/MT.R2_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data">MT R2
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-preprocess-mtse" type="radio" value="Analysis/stats/MT/MT.SE_preprocessed_fastqc.html" class="btn btn-default" name="preprocess-data">MT SE
                  </label>
                </div>
                <div class="row">
                    <iframe id="ifr-preprocess-stat" src="Analysis/stats/MG/MG.R1_preprocessed_fastqc.html" style="position: absolute; width: 100%;height: 100%; border: none"></iframe>
                </div>
            </section>


            <!-- FILTERING -->
            <section id="filtering-section" class="row">
              <div class="row">
                <div class="table-result" id="MG_read_stats"></div>
                <div class="table-result" id="MT_read_stats"></div>
              </div>
            </section>
          </div>

          <!--  ASSEMBLY -->
          <div role="tabpanel" class="tab-pane fade" id="assembly">
            <section id="assembly-section" class="row">
                <div id="but-assembly" class="row btn-group" data-toggle="buttons" name="assembly-data">
                    <label class="btn btn-primary active">
                        <input id="but-assembly1" type="radio" value="Analysis/results/IMP-vizbin_length.png" class="btn btn-default" name="assembly-data" checked>Vizbin length
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-assembly2" type="radio" value="Analysis/results/IMP-vizbin_length_GC.png" class="btn btn-default" name="assembly-data">Vizbin GC
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-assembly3" type="radio" value="Analysis/results/quast/summary/report.html" class="btn btn-default" name="assembly-data">Quast
                    </label>
                </div>
                <div class="row">
                    <div id='assembly-wrapper' class='row'><img class='img-responsive' src='Analysis/results/IMP-vizbin_length.png'/></div>
                </div>
                <div class="vizbin-img row">
                    <div class="col-xs-6 col-md-6"><div class='row'><img class='img-responsive' src='vizbin_logo.png'/></div></div>
                    <div class="col-xs-6 col-md-6">
                        <p class="text-center lead">To perform human augmented binning please import the following <a href="Analysis/MGMT.vizbin.filtered.fa">fasta file</a> to <a href="http://claczny.github.io/VizBin/">VizBin</a>.</p>
                    </div>
                </div>
            </section>
          </div>

          <!-- MAPPING -->
          <div role="tabpanel" class="tab-pane fade" id="mapping">
            <section id="mapping-section" class="row">
                <div id="but-mapping" class="row btn-group" data-toggle="buttons" name="mapping-data">
                    <label class="btn btn-primary active">
                        <input id="but-mapping1" type="radio" value="Analysis/results/IMP-rpkm_density.png" class="btn btn-default" name="mapping-data" checked>rpkm density
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping2" type="radio" value="Analysis/results/IMP-coverage_density.png" class="btn btn-default" name="mapping-data">coverage density
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping3" type="radio" value="Analysis/results/IMP-depth_density.png" class="btn btn-default" name="mapping-data">depth density
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping4" type="radio" value="Analysis/results/IMP-vizbin_length_MGcov.png" class="btn btn-default" name="mapping-data">MG coverage
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping5" type="radio" value="Analysis/results/IMP-vizbin_length_MTcov.png" class="btn btn-default" name="mapping-data">MT coverage
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping6" type="radio" value="Analysis/results/IMP-vizbin_length_MGdepth.png" class="btn btn-default" name="mapping-data">MG depth
                    </label>
                    <label class="btn btn-primary">
                        <input id="but-mapping7" type="radio" value="Analysis/results/IMP-vizbin_length_MTdepth.png" class="btn btn-default" name="mapping-data">MT depth
                    </label>
                </div>
                <div class="row">
                    <img id='mapping-wrapper' class='img-responsive' src='Analysis/results/IMP-reads_density.png'/>
                </div>
                <div class="vizbin-img row" style="display:none">
                    <div class="col-xs-6 col-md-6"><div class='row'><img class='img-responsive' src='vizbin_logo.png'/></div></div>
                    <div class="col-xs-6 col-md-6">
                        <p class="text-center lead">To perform human augmented binning please import the following <a href="Analysis/MGMT.vizbin.filtered.fa">fasta file</a> to <a href="http://claczny.github.io/VizBin/">VizBin</a>.</p>
                    </div>
                </div>
          </section>
        </div>

        <!-- ANNOTATION -->
        <div role="tabpanel" class="tab-pane fade" id="annotation">
          <section id="annotation-section" class="row">
              <h1><small>Kronaplot</small></h1>
              <div id="but-annot" class="btn-group" data-toggle="buttons" name="annot-data">
                  <label class="btn btn-primary active">
                      <input id="but-annot-mg" type="radio" value="Analysis/results/MG.gene_kegg_krona.html" class="btn btn-default" name="annot-data" checked>Metagenomics
                  </label>
                <label class="btn btn-primary">
                    <input id="but-annot-mt" type="radio" value="Analysis/results/MT.gene_kegg_krona.html" class="btn btn-default" name="annot-data">Metatranscriptomics
                </label>
            </div>
              <div class="row">
                  <iframe id="ifr-kronaplot"  style="position: absolute; width: 80%;height: 80%; border: none"></iframe>
              </div>

          </section>
        </div>
        <!-- <div role="tabpanel" class="tab-pane fade" id="annotationmt">
          <section id="annotation-section" class="row">
              <h1>MT annotation <small>Kronaplot</small></h1>
              <div class="row">
                  <iframe id="MT-kronaplot" src="Analysis/results/MT.gene_kegg_krona.html" style="position: absolute; width: 80%;height: 80%; border: none"></iframe>
              </div>
          </section>
        </div> -->


        <!-- RATIO -->
        <div role="tabpanel" class="tab-pane fade" id="ratio">
          <section id="ration-section" class="row">

              <div id="but-ratio" class="row btn-group" data-toggle="buttons" name="ratio-data">
                  <label class="btn btn-primary active">
                      <input id="but-ratio1" type="radio" value="Analysis/results/IMP-vizbin_length_depthRatio.png" class="btn btn-default" name="ratio-data" checked>Depth
                  </label>
                  <label class="btn btn-primary">
                      <input id="but-ratio2" type="radio" value="Analysis/results/IMP-vizbin_length_rpkmRatio.png" class="btn btn-default" name="ratio-data">RPKM
                  </label>
              </div>
              <div class="row">
                  <img id='ratio-wrapper' class='img-responsive' src='Analysis/results/IMP-vizbin_length_depthRatio.png'/>
              </div>

          </section>
        </div>


        <!-- VARIANTS -->
        <div role="tabpanel" class="tab-pane fade" id="variants">
          <section id="variants-section" class="row">
           <h2><small>Variants </small></h2>
           <div id="but-variant" class="row btn-group" data-toggle="buttons" name="variant-data">
               <label class="btn btn-primary active">
                   <input id="but-variant1" type="radio" value="Analysis/results/IMP-var_count.png" class="btn btn-default" name="variant-data" checked>Count
               </label>
               <label class="btn btn-primary">
                   <input id="but-variant2" type="radio" value="Analysis/results/IMP-var_density.png" class="btn btn-default" name="variant-data">Desity
               </label>
               <label class="btn btn-primary">
                   <input id="but-variant3" type="radio" value="Analysis/results/IMP-vizbin_length_MGvardens.png" class="btn btn-default" name="variant-data">MG density
               </label>
               <label class="btn btn-primary">
                   <input id="but-variant4" type="radio" value="Analysis/results/IMP-vizbin_length_MTvardens.png" class="btn btn-default" name="variant-data">MT density
               </label>
           </div>
           <div class="row">
               <img id='variant-wrapper' class='img-responsive' src='Analysis/results/IMP-var_count.png'/>
           </div


          </section>
        </div>
        <!--  IMP STATS -->
        <div role="tabpanel" class="tab-pane fade" id="overview">
          <section class="row">
            <section id="impstatistics-section">
              <h2><small>Statistics </small></h2>
              <div id="imp-stats" class="row">
                <div id="basic-info"></div>
                <div id="time-charts-mean"></div>
                <div id="bar-chart"></div>
              </div>
            </section>

            <!--  DIAGRAMS -->
            <span id="diagrams"></span>
            <section id="diagrams-section">
              <h2><small>Workflow diagram </small></h2>
              <div id="imp-diagram" class="row">
                <p>The workflow is also available in <a href="workflow.pdf">PDF</a>.</p>
                <img src="workflow.png"></img>
              </div>
            </section>
          </section>
        </div>
        <!-- IMP CONFIG -->
        <div role="tabpanel" class="tab-pane fade" id="configurations">
          <section id="config-section" class="row">
            <h2><small>Configuration </small></h2>
            <div>
              IMP has run with the configuration file saved at: <a href="config.json">config.json</a>.
              <ul id="configuration" class="list-group">
              </ul>
            </div>
          </section>
          <!-- IMP LOG -->
          <span id="log"></span>
          <section id="log-section"  class="row">
            <h2><small>Log </small></h2>
            <div>
              <p>The log files register all commands that have been run by IMP.</p>
            </div>
            <div>
              <p>The log are accessible in here IMP steps:
                <ul>
                    <li><a href="Preprocessing/Preprocessing.log">Preprocessing</a></li>
                    <li><a href="Assembly/Assembly.log">Assembly</a></li>
                    <li><a href="Analysis/Analysis.log">Analysis</a></li>
                    <li><a href="Util/Util.log">Util</a></li>
                </ul>
            </p>
            </div>
          </section>
           <section id="files-section"  class="row">
               <h2><small>Result files </small></h2>
               <p>All results files can be found in the <a href=".">root directory</a> of this report.</p>
           </section>
           <br/><br/>
        </div>
        <!-- REFERENCES -->
        <div role="tabpanel" class="tab-pane fade" id="references">
          <section id="references-section" class="row">
            <h2><small>References </small></h2>
            <div>
              <p>We sould put some references here</p>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="imp.js"></script>
</body>

</html>
