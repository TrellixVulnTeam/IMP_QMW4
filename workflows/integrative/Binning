# include rules for the Binning part of the workflow
include:
    '../../rules/Binning/find-essential-genes.rule'

include:
    '../../rules/Binning/binning.rule'

include:
    '../../rules/Binning/separate-bins.rule'

include:
    '../../rules/Binning/checkm.rule'

include:
    '../../rules/Binning/essential-gene_info.rule'

include:
    '../../rules/Binning/extract-essential-genes.rule'

# master command
rule BINNING:
    input:
        expand("Binning/contigs2clusters.{pk}.{nn}.tsv",pk=config["binning"]["pk"],nn=config["binning"]["nn"]),
        "Binning/checkM_output/checkm_table.tsv",
        "Binning/run_checkM.done",
        "Binning/separate_bins.done",
        "Binning/essMarkerGenes/markersAll.tsv",
        "Binning/getMarkerGenes.done"
    output:
        touch('binning.done')
